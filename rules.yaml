# 针对部分网站显示IP归属地的分流规则
# anti-ip-attribution rules.yaml
# https://github.com/SunsetMkt/anti-ip-attribution
# 此文件用于记录用于生成其他配置文件的规则，任何更改仅需在此修改。
# Actions会自动生成其他配置文件。
# 由于技术限制，只能实现精确到域名的分流规则，无法精确到路径。
# 配置规范举例：
# DOMAIN,example.com
# DOMAIN-SUFFIX,example.com,REJECT
# 注意"DOMAIN"大写，不用"HOST"，除"REJECT"外不要添加规则。
config:
    name: "anti-ip-attribution" # 项目名
    version: "v0.3.1" # 版本号
    url: "https://github.com/SunsetMkt/anti-ip-attribution" # 项目地址
    description: "针对部分网站显示IP归属地的分流规则" # 项目描述
    rules: # 规则列表
        # ======= 哔哩哔哩 ======= #
        # 阻止私有DNS及PCDN控制
        - DOMAIN,httpdns.bilivideo.com,REJECT # issues/51
        - DOMAIN-SUFFIX,mcdn.bilivideo.cn,REJECT # PCDN控制
        # KEY_EXT_P2P_HTTPDNS_BILI_IP
        - IP-CIDR,47.101.175.206/32,REJECT
        - IP-CIDR,47.100.123.169/32,REJECT
        - IP-CIDR,120.46.169.234/32,REJECT
        - IP-CIDR,121.36.72.124/32,REJECT
        # KEY_EXT_P2P_BILIDNS_CMCC_IP
        - IP-CIDR,116.63.10.135/32,REJECT
        - IP-CIDR,122.9.7.134/32,REJECT
        - IP-CIDR,117.185.228.108/32,REJECT
        - IP-CIDR,117.144.238.29/32,REJECT
        # KEY_EXT_P2P_BILIDNS_CT_IP
        - IP-CIDR,122.9.13.79/32,REJECT
        - IP-CIDR,122.9.15.129/32,REJECT
        - IP-CIDR,101.91.140.224/32,REJECT
        - IP-CIDR,101.91.140.124/32,REJECT
        # KEY_EXT_P2P_BILIDNS_CU_IP
        - IP-CIDR,114.116.215.110/32,REJECT
        - IP-CIDR,116.63.10.31/32,REJECT
        - IP-CIDR,112.64.218.119/32,REJECT
        - IP-CIDR,112.65.200.117/32,REJECT

        # 哔哩哔哩 API & 归属地相关 (需代理)
        - DOMAIN,api.bilibili.com
        - DOMAIN,app.bilibili.com
        - DOMAIN,api.live.bilibili.com
        - DOMAIN,passport.bilibili.com
        - DOMAIN,message.bilibili.com
        - DOMAIN-SUFFIX,biliapi.net
        - DOMAIN-SUFFIX,biliapi.com
        - DOMAIN-SUFFIX,bilibili.com
        - IP-CIDR,203.107.1.0/24

        # 哔哩哔哩 内容 & 静态资源 (直连优化)
        - DOMAIN-SUFFIX,api.vc.bilibili.com,DIRECT
        - DOMAIN-SUFFIX,data.bilibili.com,DIRECT
        - DOMAIN-SUFFIX,bilivideo.com,DIRECT
        - DOMAIN-SUFFIX,hdslb.com,DIRECT
        - DOMAIN-SUFFIX,szbdyd.com,DIRECT
        - DOMAIN-SUFFIX,akamaized.net,DIRECT
